diff --git a/PKGBUILD b/PKGBUILD
index 57b668a..6588ba7 100644
--- a/PKGBUILD
+++ b/PKGBUILD
@@ -17,14 +17,9 @@ sha256sums=('a2a27e65904688da3e84f5745d3a71371a6ecba43675d8d824c3774e879281c9'
 
 prepare() {
     cd "${srcdir}/wrapper_${pkgver}_src"
-    
-    _ver=$(java -version 2>&1 |awk -F '"' '/version/{print $2}')
-    if [[ "$_ver" =~ ^1[0-2]\. ]]; then
-        _target=10
-        patch -Np0 -i "$srcdir/java10.patch"
-    else
-        _target=1.7
-    fi
+
+    _target=$(javac --version | awk -F' ' '{ sub(/\..*/, ""); print $2 }')
+    patch -Np0 -i "$srcdir/java10.patch"
 
     # Prevent building the testsuite on the x64, this requires the cunit pkg
     # from the AUR, its a pain and useless to keep it a build-dep
