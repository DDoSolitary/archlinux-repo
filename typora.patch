diff --git a/.SRCINFO b/.SRCINFO
index 41debd1..ad6d1c8 100644
--- a/.SRCINFO
+++ b/.SRCINFO
@@ -6,10 +6,13 @@ pkgbase = typora
 	arch = x86_64
 	license = custom:"Copyright (c) 2015 Abner Lee All Rights Reserved."
 	depends = libxss
+	depends = electron
 	optdepends = noto-fonts-emoji: Or some other emoji font to see emojis
 	optdepends = pandoc: Import/export for extra file formats
 	source = https://typora.io/linux/typora_0.9.86_amd64.deb
+	source = typora.js
 	sha512sums = e7186f300c27359c6f0298980b933209b42080eac2337d8d204cda8dda1e307573304ba4131b52594212d551695325350b4b0310cd8056e47d20767c8f3d6d9b
+	sha512sums = 8ce47de8b0d0ab4b0323ee4c19a4daaf313513700d8c191faab299bfa21aaba9b55cbcf945914103e5f53607228fec3411a83aea8007b192616ad845a3af5c98
 
 pkgname = typora
 
diff --git a/PKGBUILD b/PKGBUILD
index 057c894..d1226ae 100644
--- a/PKGBUILD
+++ b/PKGBUILD
@@ -9,18 +9,14 @@ arch=('x86_64')
 filename="${pkgname}_${pkgver}_amd64.deb"
 license=('custom:"Copyright (c) 2015 Abner Lee All Rights Reserved."')
 url="https://typora.io/"
-depends=('libxss')
+depends=('libxss' 'electron')
 optdepends=(
 	'noto-fonts-emoji: Or some other emoji font to see emojis'
 	'pandoc: Import/export for extra file formats')
-source=("https://typora.io/linux/$filename")
-sha512sums=('e7186f300c27359c6f0298980b933209b42080eac2337d8d204cda8dda1e307573304ba4131b52594212d551695325350b4b0310cd8056e47d20767c8f3d6d9b')
-
-if [[ ! -z $ELECTRON ]]; then
-	depends+=($ELECTRON)
-	source+=(typora.js)
-	sha512sums+=('8ce47de8b0d0ab4b0323ee4c19a4daaf313513700d8c191faab299bfa21aaba9b55cbcf945914103e5f53607228fec3411a83aea8007b192616ad845a3af5c98')
-fi
+source=("https://typora.io/linux/$filename" 'typora.js')
+sha512sums=(
+	'e7186f300c27359c6f0298980b933209b42080eac2337d8d204cda8dda1e307573304ba4131b52594212d551695325350b4b0310cd8056e47d20767c8f3d6d9b'
+	'8ce47de8b0d0ab4b0323ee4c19a4daaf313513700d8c191faab299bfa21aaba9b55cbcf945914103e5f53607228fec3411a83aea8007b192616ad845a3af5c98')
 
 package() {
 	bsdtar -xf data.tar.xz -C "$pkgdir/"
@@ -28,11 +24,9 @@ package() {
 	chmod 4755 "$pkgdir/usr/share/typora/chrome-sandbox"
 	sed -i '/Change Log/d' "$pkgdir/usr/share/applications/typora.desktop"
 	find "$pkgdir" -type d -exec chmod 755 {} \;
-	if [[ ! -z $ELECTRON ]]; then
-		appdir="${pkgdir}/usr/share/typora"
-		mv "${appdir}" tmp/
-		mv tmp/resources/app "${appdir}"
-		rm -rf tmp/
-		install -Dm755 "typora.js" "${pkgdir}/usr/bin/typora"
-	fi
+	appdir="${pkgdir}/usr/share/typora"
+	mv "${appdir}" tmp/
+	mv tmp/resources/app "${appdir}"
+	rm -rf tmp/
+	install -Dm755 "typora.js" "${pkgdir}/usr/bin/typora"
 }
